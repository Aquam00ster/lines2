/*
 * This Java source file was generated by the Gradle 'init' task.
 */
package team2773.find_targets;

import static org.junit.jupiter.api.Assertions.assertEquals;
import static org.junit.jupiter.api.Assertions.assertNotNull;

import org.junit.jupiter.api.Test;
import org.opencv.core.Core;
import org.opencv.core.Mat;
import org.opencv.imgcodecs.Imgcodecs;

class AppTest {
    static
    {
        System.loadLibrary(Core.NATIVE_LIBRARY_NAME);
    }
    @Test void contoursTest() {
        Mat m = Imgcodecs.imread("images/BlueGoal-156in-Center.jpg");
        FindShapes.Result result = FindShapes.processImage(m, false);
        int c = result.contours.length;
        assertEquals(1, c, "contours amount");
        assertNotNull(result.target);
        assertEquals(result.target.center.x, 303, 10, "x");
        assertEquals(result.target.center.y, 342, 10, "y");
    }

    @Test void contoursTest2() {
        Mat m = Imgcodecs.imread("images/RedLoading-048in-Down.jpg");
        FindShapes.Result result = FindShapes.processImage(m, false);
        int c = result.contours.length;
        assertEquals(2, c, "contours amount");
        assertNotNull(result.target);
        assertEquals(result.target.center.x, 268, 10, "x");
        assertEquals(result.target.center.y, 211, 10, "y");
    }
}
